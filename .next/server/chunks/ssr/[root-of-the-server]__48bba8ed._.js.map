{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Rhuan%20Lucas/Desktop/embraza/src/context/cart-context.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { createContext, useContext, useState, useMemo } from \"react\";\r\n\r\ntype Product = {\r\n  id: number;\r\n  name: string;\r\n  price: number;\r\n  priceFormatted: string;\r\n  image: string;\r\n  hint: string;\r\n};\r\n\r\ntype CartItem = Product & { quantity: number };\r\n\r\ntype CartContextType = {\r\n  cart: CartItem[];\r\n  addToCart: (product: Product, quantity: number) => void;\r\n  increaseQuantity: (productId: number) => void;\r\n  decreaseQuantity: (productId: number) => void;\r\n  clearCart: () => void;\r\n  cartTotal: number;\r\n  totalItemsInCart: number;\r\n};\r\n\r\nconst CartContext = createContext<CartContextType | undefined>(undefined);\r\n\r\nexport const useCart = () => {\r\n  const context = useContext(CartContext);\r\n  if (!context) {\r\n    throw new Error(\"useCart must be used within a CartProvider\");\r\n  }\r\n  return context;\r\n};\r\n\r\nexport const CartProvider = ({ children }: { children: React.ReactNode }) => {\r\n  const [cart, setCart] = useState<CartItem[]>([]);\r\n\r\n  const addToCart = (product: Product, quantity: number) => {\r\n    setCart((prevCart) => {\r\n      const existingItem = prevCart.find((item) => item.id === product.id);\r\n      if (existingItem) {\r\n        return prevCart.map((item) =>\r\n          item.id === product.id\r\n            ? { ...item, quantity: item.quantity + quantity }\r\n            : item\r\n        );\r\n      }\r\n      return [...prevCart, { ...product, quantity }];\r\n    });\r\n  };\r\n\r\n  const increaseQuantity = (productId: number) => {\r\n    setCart((prevCart) =>\r\n      prevCart.map((item) =>\r\n        item.id === productId ? { ...item, quantity: item.quantity + 1 } : item\r\n      )\r\n    );\r\n  };\r\n\r\n  const decreaseQuantity = (productId: number) => {\r\n    setCart((prevCart) =>\r\n      prevCart\r\n        .map((item) =>\r\n          item.id === productId\r\n            ? { ...item, quantity: item.quantity - 1 }\r\n            : item\r\n        )\r\n        .filter((item) => item.quantity > 0)\r\n    );\r\n  };\r\n\r\n  const clearCart = () => {\r\n    setCart([]);\r\n  };\r\n\r\n  const cartTotal = useMemo(() => {\r\n    return cart.reduce((total, item) => total + item.price * item.quantity, 0);\r\n  }, [cart]);\r\n\r\n  const totalItemsInCart = useMemo(() => {\r\n    return cart.reduce((total, item) => total + item.quantity, 0);\r\n  }, [cart]);\r\n\r\n  return (\r\n    <CartContext.Provider\r\n      value={{\r\n        cart,\r\n        addToCart,\r\n        increaseQuantity,\r\n        decreaseQuantity,\r\n        clearCart,\r\n        cartTotal,\r\n        totalItemsInCart,\r\n      }}\r\n    >\r\n      {children}\r\n    </CartContext.Provider>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAyBA,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,gBAAa,AAAD,EAA+B;AAExD,MAAM,UAAU;IACrB,MAAM,UAAU,CAAA,GAAA,qMAAA,CAAA,aAAU,AAAD,EAAE;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;AAEO,MAAM,eAAe,CAAC,EAAE,QAAQ,EAAiC;IACtE,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAc,EAAE;IAE/C,MAAM,YAAY,CAAC,SAAkB;QACnC,QAAQ,CAAC;YACP,MAAM,eAAe,SAAS,IAAI,CAAC,CAAC,OAAS,KAAK,EAAE,KAAK,QAAQ,EAAE;YACnE,IAAI,cAAc;gBAChB,OAAO,SAAS,GAAG,CAAC,CAAC,OACnB,KAAK,EAAE,KAAK,QAAQ,EAAE,GAClB;wBAAE,GAAG,IAAI;wBAAE,UAAU,KAAK,QAAQ,GAAG;oBAAS,IAC9C;YAER;YACA,OAAO;mBAAI;gBAAU;oBAAE,GAAG,OAAO;oBAAE;gBAAS;aAAE;QAChD;IACF;IAEA,MAAM,mBAAmB,CAAC;QACxB,QAAQ,CAAC,WACP,SAAS,GAAG,CAAC,CAAC,OACZ,KAAK,EAAE,KAAK,YAAY;oBAAE,GAAG,IAAI;oBAAE,UAAU,KAAK,QAAQ,GAAG;gBAAE,IAAI;IAGzE;IAEA,MAAM,mBAAmB,CAAC;QACxB,QAAQ,CAAC,WACP,SACG,GAAG,CAAC,CAAC,OACJ,KAAK,EAAE,KAAK,YACR;oBAAE,GAAG,IAAI;oBAAE,UAAU,KAAK,QAAQ,GAAG;gBAAE,IACvC,MAEL,MAAM,CAAC,CAAC,OAAS,KAAK,QAAQ,GAAG;IAExC;IAEA,MAAM,YAAY;QAChB,QAAQ,EAAE;IACZ;IAEA,MAAM,YAAY,CAAA,GAAA,qMAAA,CAAA,UAAO,AAAD,EAAE;QACxB,OAAO,KAAK,MAAM,CAAC,CAAC,OAAO,OAAS,QAAQ,KAAK,KAAK,GAAG,KAAK,QAAQ,EAAE;IAC1E,GAAG;QAAC;KAAK;IAET,MAAM,mBAAmB,CAAA,GAAA,qMAAA,CAAA,UAAO,AAAD,EAAE;QAC/B,OAAO,KAAK,MAAM,CAAC,CAAC,OAAO,OAAS,QAAQ,KAAK,QAAQ,EAAE;IAC7D,GAAG;QAAC;KAAK;IAET,qBACE,8OAAC,YAAY,QAAQ;QACnB,OAAO;YACL;YACA;YACA;YACA;YACA;YACA;YACA;QACF;kBAEC;;;;;;AAGP","debugId":null}}]
}